<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Text Summarizer</title>
</head>
<body>
    <h1>Text Summarizer üìù</h1>
    <div class="container">
        <form method="post" class="mt-4">
            <div class="form-group">
                <textarea name="prompt" class="form-control" rows="5" required placeholder="Input your Text or Link here" style="resize: none;"></textarea>
            </div>
            <button type="submit" class="btn btn-primary full-width">Summarize</button>
        </form>
    </div>

    <div class="result">
        {% if summary %}
            <div class="summary-text" id="summaryText" style="white-space: pre-wrap;">{{ summary | safe }}</div>
        {% endif %}
    </div>

    <div id="loader" style="display:none;">
        <p>Summarizing your text... Please wait.</p>
    </div>
    
    <script>
        document.querySelector('form').onsubmit = function() {
            document.getElementById('loader').style.display = 'block';
        };
    </script>

    {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
    {% endif %}
</body>
</html>
